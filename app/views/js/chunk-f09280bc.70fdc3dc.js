(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f09280bc"],{"650c":function(_,e,t){"use strict";t.r(e);var s=function(){var _=this,e=_.$createElement,t=_._self._c||e;return t("div",{attrs:{id:"code"}},[t("v-container",{attrs:{fluid:""}},[t("v-row",[t("v-col",{attrs:{cols:"7"}},[t("v-card",{staticClass:"mx-auto",attrs:{"max-width":"100%",outlined:""}},[t("Header",{attrs:{resource:_.resource}}),t("Editor",{ref:"editor",attrs:{resource:_.resource},on:{onErrors:_.setErrors,onLogs:_.setLogs}}),t("v-rating",{attrs:{"background-color":"orange lighten-3",color:"orange"},model:{value:_.rating,callback:function(e){_.rating=e},expression:"rating"}}),t("v-expansion-panels",[t("v-expansion-panel",[t("v-expansion-panel-header",{attrs:{"disable-icon-rotate":""},scopedSlots:_._u([{key:"actions",fn:function(){return[t("v-icon",{attrs:{color:_.errors.length?"error":"success"}},[_._v(" "+_._s(_.errors.length?"mdi-alert-circle":"mdi-check")+" ")])]},proxy:!0}])},[_._v(" Errors ("+_._s(_.errors.length)+") ")]),t("v-expansion-panel-content",[t("v-data-table",{staticClass:"elevation-1",attrs:{headers:_.headers,items:_.errors,"items-per-page":5,"sort-by":"row"},on:{"click:row":_.handleClick},scopedSlots:_._u([{key:"item.row",fn:function(e){var t=e.item;return[_._v(" "+_._s(t.row+1)+" ")]}},{key:"item.type",fn:function(e){var s=e.item;return[t("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"red"}},[_._v(" "+_._s("info"==s.type?"mdi-information":"mdi-close-circle")+" ")])]}}])})],1)],1),t("v-expansion-panel",[t("v-expansion-panel-header",{attrs:{"disable-icon-rotate":""},scopedSlots:_._u([{key:"actions",fn:function(){return[t("v-icon",{attrs:{color:"primary"}},[_._v(" "+_._s("mdi-clipboard-edit")+" ")])]},proxy:!0}])},[_._v(" Logs ("+_._s(_.logs.length)+") ")]),t("v-expansion-panel-content",[t("v-data-table",{staticClass:"elevation-1",attrs:{headers:_.headers,items:_.logs,"items-per-page":5,"sort-by":"row"},on:{"click:row":_.handleClick},scopedSlots:_._u([{key:"item.row",fn:function(e){var t=e.item;return[_._v(" "+_._s(t.row+1)+" ")]}},{key:"item.type",fn:function(e){var s=e.item;return[t("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"blue"}},[_._v(" "+_._s("log"==s.type?"mdi-clipboard-edit":"mdi-close-circle")+" ")])]}}])})],1)],1),t("v-expansion-panel",[t("v-expansion-panel-header",{attrs:{"disable-icon-rotate":""},scopedSlots:_._u([{key:"actions",fn:function(){return[t("v-icon",{attrs:{color:"warning"}},[_._v(" mdi-comment-multiple ")])]},proxy:!0}])},[_._v(" Questions (0) ")]),t("v-expansion-panel-content",[t("code",[_._v("It will be possible to pose questions in future versions")])])],1)],1)],1)],1),t("v-col",{attrs:{cols:"5"}},[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("Tests",{ref:"tests",attrs:{resource:_.resource,errors:_.errors,logs:_.logs},on:{onSaveCode:_.saveCode}})],1)],1),t("v-row",[t("v-col",{attrs:{cols:"12"}})],1)],1)],1)],1)],1)},r=[],o=t("7797"),a=t("4693"),c=t("c3ed"),i={name:"Code",components:{Header:o["default"],Editor:a["default"],Tests:c["default"]},props:{resource:{type:Object,default:function(){return null}}},data:function(){return{headers:[{text:"Row",value:"row",sortable:!0},{text:"Type",align:"start",sortable:!1,value:"type"},{text:"Message",value:"text"}],errors:[],logs:[],rating:0,line:0}},methods:{setErrors:function(_){this.errors=_},setLogs:function(_){this.logs=_},saveCode:function(){this.$refs.editor.dataSumit()},handleClick:function(_){this.$refs.editor.gotoLine(_.row)}}},n=i,l=t("2877"),u=t("6544"),d=t.n(u),E=t("b0af"),p=t("62ad"),m=t("a523"),O=t("8fea"),D=t("cd55"),P=t("49e2"),b=t("c865"),M=t("0393"),j=t("132d"),f=t("1d4d"),v=t("0fd9"),g=Object(l["a"])(n,s,r,!1,null,null,null);e["default"]=g.exports;d()(g,{VCard:E["a"],VCol:p["a"],VContainer:m["a"],VDataTable:O["a"],VExpansionPanel:D["a"],VExpansionPanelContent:P["a"],VExpansionPanelHeader:b["a"],VExpansionPanels:M["a"],VIcon:j["a"],VRating:f["a"],VRow:v["a"]})},ac7d:function(module,__webpack_exports__,__webpack_require__){"use strict";var F_WORK_agni_client_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2909"),F_WORK_agni_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("5530"),core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("45fc"),core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("4795"),core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("5b81"),core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("4160"),core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("1276"),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("2ca0"),core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("466d"),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("4d63"),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_regexp_dot_all_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("c607"),core_js_modules_es_regexp_dot_all_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_regexp_dot_all_js__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_regexp_sticky_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("2c3e"),core_js_modules_es_regexp_sticky_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_regexp_sticky_js__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("caad"),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("2532"),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("a9e3"),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("c975"),core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_23__),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("a434"),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_24__),sweetalert2__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("3d20"),sweetalert2__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_25__),_assets_utils_html2dom_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("0bcb"),sweetalert2_src_sweetalert2_scss__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("415b"),sweetalert2_src_sweetalert2_scss__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(sweetalert2_src_sweetalert2_scss__WEBPACK_IMPORTED_MODULE_27__),vuex__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("2f62");__webpack_exports__["a"]={name:"Tests",props:{resource:Object,errors:Array,logs:Array},data:function(){return{dialog:!1,dialogDelete:!1,headers:[{text:"Input",align:"start",sortable:!0,value:"input"},{text:"Type",value:"type"},{text:"Output",value:"output"},{text:"Expected",value:"expected"}],headers2:[{text:"Input",align:"start",sortable:!0,value:"input"},{text:"Output",value:"output"},{text:"Expected",value:"expected"}],editedIndex:-1,editedItem:{input:"",output:"",expected:""},defaultItem:{input:"",output:"",expected:""},code:"",nTestsSuccess:0}},computed:Object(F_WORK_agni_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__["a"])({formTitle:function(){return-1===this.editedIndex?"New Test":"Edit Test"},tests:function(){return this.resource.tests},getErrors:function(){return this.errors.some((function(_){return"error"==_.type}))}},Object(vuex__WEBPACK_IMPORTED_MODULE_28__["b"])(["getProgressFromResourceId"])),watch:{dialog:function(_){_||this.close()},dialogDelete:function(_){_||this.closeDelete()}},methods:Object(F_WORK_agni_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__["a"])(Object(F_WORK_agni_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_28__["c"])(["setProgress"])),{},{newTest:function(){sweetalert2__WEBPACK_IMPORTED_MODULE_25___default.a.fire("Not available!","Creating tests will be a hot feature in the next version of learnJS","info")},run:function run(){var _this=this;this.$emit("onSaveCode"),setTimeout((function(){_this.nTestsSuccess=0,_this.code=_this.getProgressFromResourceId(_this.resource.id).code;var originalCode=_this.code;_this.resource.html&&(_this.code="          \n          ".concat(_assets_utils_html2dom_js__WEBPACK_IMPORTED_MODULE_26__["a"].parse(_this.resource.html),"\n          \n          ").concat(_this.code.replaceAll("document","docFragment"),"\n          ")),_this.tests.forEach((function(test){var res;if(console.log("2. run test->"+test.type),"log"==test.type)res=_this.logs.map((function(_){return _.text})).join(""),console.log("3. result->"+res);else if("expression"==test.type)try{test.subtype?(eval("".concat(_this.code,"\n").concat(test.input)),res="no error"):(res=eval("".concat(_this.code,"\n").concat(test.input)),res="undefined"===typeof res?"No assigned value":res)}catch(error){res=test.subtype?"error":error.message}else if("metric"==test.type)if("lines"==test.subtype){var count=0,lines=_this.code.split("\n");lines.forEach((function(_){(_.startsWith("//")||""==_)&&count++})),res=eval("".concat(lines.length-count," ").concat(test.expected))}else if("occurrences"==test.subtype){var keyword=test.input.split(":")[1],nOccurrences=(_this.code.match(new RegExp(keyword,"g"))||[]).length;res=nOccurrences}else res="keyword"!=test.subtype||_this.code.includes(test.input.split(":")[1]);else{var fct=eval("(".concat(_this.code,")")),arr=test.input.split(" ").map(Number);res=""==test.input?fct.call(null):fct.call.apply(fct,[null].concat(Object(F_WORK_agni_client_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__["a"])(arr)))}test.output=String(res),test.output!=test.expected&&1!=res||_this.nTestsSuccess++}));var status=_this.nTestsSuccess/_this.tests.length*100;_this.setProgress({id:_this.resource.id,status:status}),_this.code=originalCode}),1e3)},getColor:function(_){return""==_.output?"white":_.output==_.expected||"metric"==_.type&&"true"==_.output?"green":"red"},editItem:function(_){this.editedIndex=this.tests.indexOf(_),this.editedItem=Object.assign({},_),this.dialog=!0},deleteItem:function(_){this.editedIndex=this.tests.indexOf(_),this.editedItem=Object.assign({},_),this.dialogDelete=!0},deleteItemConfirm:function(){this.tests.splice(this.editedIndex,1),this.closeDelete()},close:function(){var _=this;this.dialog=!1,this.$nextTick((function(){_.editedItem=Object.assign({},_.defaultItem),_.editedIndex=-1}))},closeDelete:function(){var _=this;this.dialogDelete=!1,this.$nextTick((function(){_.editedItem=Object.assign({},_.defaultItem),_.editedIndex=-1}))},save:function(){this.editedIndex>-1?Object.assign(this.tests[this.editedIndex],this.editedItem):this.tests.push(this.editedItem),this.close()}})}},c3ed:function(_,e,t){"use strict";t.r(e);var s=function(){var _=this,e=_.$createElement,t=_._self._c||e;return t("div",[t("v-card",{staticClass:"mx-auto",attrs:{outlined:""}},[t("v-list-item",[t("v-list-item-content",[t("v-list-item-title",{staticClass:"display-1"},[_._v(" TESTS ")]),t("v-list-item-subtitle",[_._v("Run the teacher tests and create your owns!")])],1),t("v-list-item-avatar",{attrs:{tile:"",size:"80",color:"blue"}},[t("v-icon",{attrs:{large:"",color:"white"}},[_._v(" mdi-robot-confused ")])],1)],1),t("v-data-table",{staticClass:"elevation-1",attrs:{headers:_.headers,items:_.tests,"sort-by":"input","group-by":"type"},scopedSlots:_._u([{key:"top",fn:function(){return[t("v-toolbar",{attrs:{flat:""}},[t("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:_._u([{key:"activator",fn:function(e){e.on;var s=e.attrs;return[t("v-btn",_._b({staticClass:"mb-2 mr-2",attrs:{color:"success",disabled:_.getErrors},on:{click:_.run}},"v-btn",s,!1),[_._v(" Run Tests ")]),t("v-btn",_._b({staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:_.newTest}},"v-btn",s,!1),[_._v(" New Test ")])]}}]),model:{value:_.dialog,callback:function(e){_.dialog=e},expression:"dialog"}},[t("v-card",[t("v-card-title",[t("span",{staticClass:"headline"},[_._v(_._s(_.formTitle))])]),t("v-card-text",[t("v-container",[t("v-row",[t("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[t("v-text-field",{attrs:{label:"Input data"},model:{value:_.editedItem.input,callback:function(e){_.$set(_.editedItem,"input",e)},expression:"editedItem.input"}})],1),t("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[t("v-text-field",{attrs:{label:"Expected"},model:{value:_.editedItem.expected,callback:function(e){_.$set(_.editedItem,"expected",e)},expression:"editedItem.expected"}})],1)],1)],1)],1),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:_.close}},[_._v(" Cancel ")]),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:_.save}},[_._v(" Save ")])],1)],1)],1),t("v-dialog",{attrs:{"max-width":"500px"},model:{value:_.dialogDelete,callback:function(e){_.dialogDelete=e},expression:"dialogDelete"}},[t("v-card",[t("v-card-title",{staticClass:"headline"},[_._v("Are you sure you want to delete this test?")]),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:_.closeDelete}},[_._v("Cancel")]),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:_.deleteItemConfirm}},[_._v("OK")]),t("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"group.header",fn:function(e){var s=e.items,r=(e.isOpen,e.toggle);return[t("th",{attrs:{colspan:"3"}},[t("v-icon",{on:{click:r}},[_._v(_._s("metric"==s[0].type?"mdi-firework":"log"==s[0].type?"mdi-math-log":"mdi-robot-confused")+" ")]),_._v(" "+_._s("metric"==s[0].type?" "+s[0].type+" (extra challenge):":"log"==s[0].type?" console logs:":" general tests:")+" ")],1)]}},{key:"item.input",fn:function(e){var t=e.item;return[_._v(" "+_._s(t.alias||t.input)+" ")]}},{key:"item.output",fn:function(e){var s=e.item;return[t("v-chip",{attrs:{color:_.getColor(s),dark:""}},[_._v(" "+_._s(s.output)+" ")])]}},{key:"item.expected",fn:function(e){var t=e.item;return[_._v(" "+_._s(t.options&&!t.options.showExpected?"hidden":t.expected)+" ")]}}])})],1)],1)},r=[],o=t("ac7d"),a=o["a"],c=t("2877"),i=t("6544"),n=t.n(i),l=t("8336"),u=t("b0af"),d=t("99d9"),E=t("cc20"),p=t("62ad"),m=t("a523"),O=t("8fea"),D=t("169a"),P=t("132d"),b=t("da13"),M=t("8270"),j=t("5d23"),f=t("0fd9"),v=t("2fa4"),g=t("8654"),h=t("71d9"),C=Object(c["a"])(a,s,r,!1,null,null,null);e["default"]=C.exports;n()(C,{VBtn:l["a"],VCard:u["a"],VCardActions:d["a"],VCardText:d["b"],VCardTitle:d["c"],VChip:E["a"],VCol:p["a"],VContainer:m["a"],VDataTable:O["a"],VDialog:D["a"],VIcon:P["a"],VListItem:b["a"],VListItemAvatar:M["a"],VListItemContent:j["a"],VListItemSubtitle:j["b"],VListItemTitle:j["c"],VRow:f["a"],VSpacer:v["a"],VTextField:g["a"],VToolbar:h["a"]})}}]);
//# sourceMappingURL=chunk-f09280bc.70fdc3dc.js.map